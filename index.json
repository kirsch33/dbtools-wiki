{
  "DOCUMENTATION_MANIFEST.html": {
    "href": "DOCUMENTATION_MANIFEST.html",
    "title": "Documentation Manifest | DBTools Developer Documentation",
    "summary": "Documentation Manifest Last Updated: 2026-01-16 Total Units: 24 Completed: 1 In Progress: 0 Status Legend Status Meaning pending Not started in_progress Currently being documented draft Written but not verified verified Reviewed and source-anchored deferred Blocked by external factor Architecture Documentation Document Status Assignee Notes architecture/overview.md stub - High-level intro architecture/build-pipeline.md draft initial-session PROOF-OF-CONCEPT - Complete architecture/test-pipeline.md stub - architecture/project-references.md stub - architecture/ilrepack-embedding.md stub - architecture/sandbox-validator.md stub - architecture/theme-system.md stub - Project Documentation Document Status Assignee Notes projects/core.md stub - Priority after architecture projects/app.md stub - projects/loader.md stub - projects/sandbox.md stub - projects/themes.md stub - Tool Documentation Common Tools Document Status Assignee Notes tools/common/elements-from-list-3d.md stub - tools/common/elevation-tags.md stub - tools/common/tdv.md stub - tools/common/gm.md deferred - LAST - mid-refactor Structural Tools Document Status Assignee Notes tools/structural/analytical-snap.md stub - tools/structural/foundation-tags.md stub - tools/structural/framing-joins.md stub - tools/structural/joist-girder-weight.md stub - tools/structural/organize-foundation.md stub - tools/structural/sgt.md deferred - LAST - mid-refactor Testing Tools Document Status Assignee Notes tools/testing/vtc.md stub - Developer Guides Document Status Assignee Notes developing/new-tool-guide.md stub - Requires architecture first developing/modularity.md stub - Priority Order Architecture (establishes context) build-pipeline.md (in progress) test-pipeline.md overview.md project-references.md ilrepack-embedding.md Core Projects core.md app.md loader.md Simple Tools (lower complexity) elevation-tags.md elements-from-list-3d.md tdv.md foundation-tags.md Developer Guides new-tool-guide.md modularity.md Complex Tools (LAST) gm.md (after refactor) sgt.md (after refactor) Verification Checklist Template Each completed document must have: [ ] All code references include file:line source anchors [ ] No assumptions without evidence [ ] Cross-references to related documents [ ] Examples tested where applicable [ ] UNVERIFIED markers for uncertain claims [ ] Reviewed by human or verified AI session Session Log Date Session Documents Touched Notes 2026-01-16 initial-setup All stubs created Infrastructure setup 2026-01-16 initial-session build-pipeline.md Proof-of-concept complete How to Update This Manifest Before starting work, mark document as in_progress Add your session ID to Assignee column After completing, change status to draft After verification, change to verified Add entry to Session Log"
  },
  "api/index.html": {
    "href": "api/index.html",
    "title": "API Reference | DBTools Developer Documentation",
    "summary": "API Reference This section contains auto-generated API documentation from XML doc comments in the source code. Coverage Status Current XML doc comment coverage is approximately 33%. Areas with gaps will show minimal documentation. Project Coverage Notes DBTools.Core ~22% Needs improvement DBTools.App ~37% Moderate DBTools.Themes ~1% Critical gap SGT ~50% Best documented GM ~23% Large codebase Improving Coverage To improve API documentation: Add /// XML doc comments to public members Include at minimum: <summary>, <param>, <returns> Run docfx build to regenerate Example: /// <summary> /// Executes a transaction with the specified action. /// </summary> /// <param name=\"action\">The action to execute within the transaction.</param> /// <returns>True if the transaction succeeded; otherwise, false.</returns> /// <exception cref=\"InvalidOperationException\">Thrown when no document is active.</exception> public bool Execute(Action action) { // ... } Namespaces Once API metadata is generated via docfx metadata, namespace links will appear here: DBTools.Core DBTools.App DBTools.Themes DBTools.GM DBTools.SGT Note: Run docfx docfx.json (not docfx-conceptual.json) to generate API documentation from XML comments."
  },
  "articles/architecture/build-pipeline.html": {
    "href": "articles/architecture/build-pipeline.html",
    "title": "Build Pipeline | DBTools Developer Documentation",
    "summary": "Build Pipeline Overview DBTools uses a sophisticated build pipeline designed for: Multi-year Revit support (2024, 2025, 2026) Multi-framework targeting (net48 for Revit 2024, net8.0-windows for 2025+) WSL/Windows interoperability (development in WSL, builds via Windows dotnet.exe) Assembly merging (ILRepack for net48, AssemblyLoadContext for net8) Centralized artifacts (all outputs to .artifacts/, no per-project bin/obj) Source: csharp/build.sh:1-162, csharp/build/Build.cs:1-200 Quick Reference # Fast incremental build (default) bash csharp/build.sh # Clean + full rebuild bash csharp/build.sh --clean # Build specific Revit year bash csharp/build.sh -y 2025 BuildAll # Debug configuration bash csharp/build.sh --debug # Build only the app (skip tests) bash csharp/build.sh BuildApp # Clean outputs only bash csharp/build.sh Clean Source: csharp/build.sh:33-61 Architecture Build System Stack ┌─────────────────────────────────────────────────────────────┐ │ build.sh │ │ (Bash wrapper - WSL/Git Bash compatible) │ ├─────────────────────────────────────────────────────────────┤ │ Windows dotnet.exe │ │ (via wslpath/cygpath conversion) │ ├─────────────────────────────────────────────────────────────┤ │ NUKE Build │ │ (Build.cs, BuildTargets.cs, etc.) │ ├─────────────────────────────────────────────────────────────┤ │ MSBuild + .NET SDK │ │ (Directory.Build.props/targets, *.csproj) │ └─────────────────────────────────────────────────────────────┘ Key Files File Purpose build.sh Entry point - WSL/Git Bash wrapper build/Build.cs NUKE orchestration, parameters, cleanup build/BuildTargets.cs Build targets, Revit path resolution build/BuildMerging.cs ILRepack assembly merging (net48) build/BuildHelpers.cs Path conversion utilities build/ArtifactManagement.cs Metadata, fingerprinting, promotion Directory.Build.props Centralized project properties Directory.Build.targets Build targets, NUKE enforcement Version.props Product version build/Revit.props Revit-specific TFM definitions Source: csharp/build/Build.cs:17-24 Entry Point: build.sh The build script (build.sh) is the required entry point for all builds. Direct dotnet build is blocked by MSBuild. WSL Detection The script auto-detects the environment and configures appropriate path conversion: if [[ -f /proc/version ]] && grep -qi microsoft /proc/version 2>/dev/null; then # WSL environment WIN_DOTNET_EXE=\"/mnt/c/Program Files/dotnet/dotnet.exe\" to_win_path() { wslpath -w \"$1\"; } else # Git Bash or other WIN_DOTNET_EXE=\"/c/Program Files/dotnet/dotnet.exe\" to_win_path() { cygpath -w \"$1\"; } fi Source: csharp/build.sh:6-15 Build Server Cleanup The script ensures MSBuild daemon processes are terminated on exit to prevent file locks: cleanup_build_servers() { \"$WIN_DOTNET_EXE\" build-server shutdown 2>/dev/null || true } trap cleanup_build_servers EXIT INT TERM Source: csharp/build.sh:17-20 Vendored Dependencies Before non-Clean targets, the script checks for vendored UI assemblies and builds them if missing: ensure_vendored_deps() { local vendor_root=\"$SCRIPT_DIR/.artifacts/vendor\" local missing=false for tfm in net48 net8.0-windows; do [[ -f \"$vendor_root/handycontrol/$tfm/DBTools.HandyControl.dll\" ]] || missing=true [[ -f \"$vendor_root/controlzex/$tfm/DBTools.ControlzEx.dll\" ]] || missing=true [[ -f \"$vendor_root/fluentribbon/$tfm/DBTools.Fluent.Ribbon.dll\" ]] || missing=true done if $missing; then echo \"Vendored UI assemblies missing; building them now...\" bash \"$SCRIPT_DIR/build-vendored-deps.sh\" fi } Source: csharp/build.sh:116-130 NUKE Build System Parameters Parameter Default Description --Configuration Release Build configuration --Years 2024 2025 2026 Revit years to target --SkipClean true Skip clean for fast incremental builds --DryRun false Simulate actions without executing --ValidateManifests true Validate embedded manifests --ValidateTools true Validate tool UIs Source: csharp/build/Build.cs:36-51 Key Targets BuildAll ├── PreflightRevitInstalls ├── BuildCore ├── BuildApp ├── VendoredStageUiToYearOutputs ├── BuildTests ├── FlattenYearOutputs ├── PromoteToDist ├── WriteMetadata └── ValidateDist Target Description BuildAll Full build with validation BuildOnly Build without validation (CI use) BuildApp Build DBTools.App only BuildCore Build DBTools.Core only BuildTests Build all test projects Clean Delete staging/intermediate outputs PromoteToDist Copy validated outputs to dist/ Source: csharp/build/Build.cs:165-177 Revit Path Resolution NUKE auto-detects Revit installations using ricaun.Nuke: var installs = RevitInstallationUtils.InstalledRevit ?? Array.Empty<RevitInstallation>(); foreach (var inst in installs) Serilog.Log.Information(\" - Version={Version}, Location={Location}\", inst.Version, inst.InstallLocation); Override with parameters if needed: --Revit2024Dir --Revit2025Dir --Revit2026Dir Source: csharp/build/BuildTargets.cs:35-78 MSBuild Configuration Directory.Build.props The centralized props file establishes: Artifact paths - All outputs to .artifacts/ Year-based organization - bin/{Config}/{Year}/{TFM}/ Design-time support - XAML designer compatibility Code analysis - Warnings as errors, nullable enabled Centralized Artifacts <PropertyGroup> <BaseArtifactsDir>$(MSBuildThisFileDirectory).artifacts\\</BaseArtifactsDir> <BaseIntermediateOutputPath>$(BaseArtifactsDir)obj\\</BaseIntermediateOutputPath> <BaseOutputPath>$(BaseArtifactsDir)bin\\</BaseOutputPath> </PropertyGroup> Source: csharp/Directory.Build.props:12-14 Year-Based Output <PropertyGroup Condition=\"'$(DesignTimeBuild)'!='true'\"> <DBT_OutputYear Condition=\"'$(RevitYear)'!=''\">$(RevitYear)</DBT_OutputYear> <DBT_OutputYear Condition=\"'$(RevitYear)'==''\">shared</DBT_OutputYear> <OutputPath>$(BaseOutputPath)$(Configuration)\\$(DBT_OutputYear)\\</OutputPath> </PropertyGroup> This produces: .artifacts/ ├── bin/ │ ├── Release/ │ │ ├── 2024/ │ │ │ └── net48/ │ │ ├── 2025/ │ │ │ └── net8.0-windows/ │ │ └── 2026/ │ │ └── net8.0-windows/ │ └── Debug/ │ └── ... └── obj/ └── ... Source: csharp/Directory.Build.props:105-121 Code Quality Settings <PropertyGroup> <TreatWarningsAsErrors>true</TreatWarningsAsErrors> <LangVersion>latest</LangVersion> <Nullable>enable</Nullable> <EnableNETAnalyzers>true</EnableNETAnalyzers> <AnalysisLevel>latest-recommended</AnalysisLevel> </PropertyGroup> Source: csharp/Directory.Build.props:142-150 Directory.Build.targets NUKE Entry Point Enforcement Direct dotnet build from CLI is blocked to ensure consistent builds: <Target Name=\"DBT_EnforceEntryPoint\" BeforeTargets=\"CoreCompile\" Condition=\"'$(DesignTimeBuild)'!='true' and '$(DBT_Entry)'!='true'\"> <Error Code=\"DBT0001\" Text=\"Direct builds are blocked. Use ./csharp/build.sh\" /> </Target> Only builds via build.sh (which sets DBT_Entry=true) are allowed. Source: csharp/Directory.Build.targets:32-37 WPF Designer Fixes The targets file includes several fixes for WPF/XAML designer compatibility: Platform target override for designer (AnyCPU instead of x64) Intermediate path fixes for wpftmp projects Reference resolution before XAML compilation Duplicate file removal for generated code Source: csharp/Directory.Build.targets:8-63 Multi-Year Targeting Target Framework Matrix Revit Year .NET Version TFM 2024 .NET Framework 4.8 net48 2025 .NET 8 net8.0-windows 2026 .NET 8 net8.0-windows Revit.props Defines canonical TFMs for Revit-facing projects: <PropertyGroup> <RevitTargetFrameworks>net48;net8.0-windows</RevitTargetFrameworks> </PropertyGroup> Source: csharp/build/Revit.props Conditional Compilation Projects use conditional compilation for version-specific code: #if REVIT2024 // net48-specific code #elif REVIT2025 || REVIT2026 // net8-specific code #endif Assembly Merging ILRepack (net48 / Revit 2024) For Revit 2024 (net48), dependencies are merged into DBTools.dll using ILRepack: // Merge ALL DLLs except whitelist: var keepSeparate = new HashSet<string> { \"DBTools.dll\", // Primary assembly \"DBTools.Loader.dll\", // Entry point \"DBTools.HandyControl.dll\", \"DBTools.Fluent.Ribbon.dll\", \"DBTools.ControlzEx.dll\", \"DBTools.Themes.dll\", // Revit API (shouldn't be in output) \"RevitAPI.dll\", \"RevitAPIUI.dll\", }; Why merge? Revit add-ins share the AppDomain Without merging, different add-ins with same dependency versions can conflict ILRepack internalizes types to prevent conflicts What stays separate? WPF theme assemblies (need file Location for pack:// URIs) Loader assembly (Revit's entry point) Logging abstractions (shared type identity) Source: csharp/build/BuildMerging.cs:17-65 AssemblyLoadContext (net8 / Revit 2025+) For Revit 2025+ (net8), isolation is achieved via AssemblyLoadContext: Each add-in gets its own load context Dependencies are isolated without merging No ILRepack needed Source: csharp/build/BuildMerging.cs:11-14 Artifact Structure Build Outputs .artifacts/ ├── bin/ │ └── Release/ │ ├── 2024/ │ │ └── net48/ │ │ ├── DBTools.dll (merged) │ │ ├── DBTools.Loader.dll │ │ ├── DBTools.Themes.dll │ │ └── DBTools.*.dll (UI assemblies) │ ├── 2025/ │ │ └── net8.0-windows/ │ │ ├── DBTools.dll │ │ ├── DBTools.Loader.dll │ │ └── *.dll (dependencies) │ └── 2026/ │ └── net8.0-windows/ │ └── ... ├── tests/ │ └── Release/ │ ├── 2024/ │ ├── 2025/ │ └── 2026/ ├── vendor/ │ ├── handycontrol/ │ ├── controlzex/ │ └── fluentribbon/ └── .staging/ └── {BuildId}/ ├── bundle/ ├── installer/ └── logs/ Distribution After PromoteToDist, production payloads are in: .artifacts/dist/ ├── 2024/ ├── 2025/ └── 2026/ Troubleshooting Common Issues Problem Solution \"Direct builds are blocked\" (DBT0001) Use build.sh instead of dotnet build \"Windows dotnet.exe not found\" Ensure .NET SDK installed on Windows side \"Vendored UI assemblies missing\" Run build-vendored-deps.sh XAML designer errors Build once via build.sh to populate artifacts MSBuild daemon file locks Script auto-cleans; or run dotnet build-server shutdown Verbose Logging # Add --Verbose for detailed NUKE output bash csharp/build.sh --Verbose BuildAll Clean Rebuild # Full clean + rebuild bash csharp/build.sh --clean BuildAll Related Documentation Project References - Dependency relationships ILRepack & Embedding - Assembly merging details Test Pipeline - Testing infrastructure Verification Status Check Status Source anchors for all claims Yes UNVERIFIED markers where needed No (all verified) Cross-references added Yes Examples tested N/A (documentation) No assumptions without evidence Yes Verified by: initial-wiki-session Date: 2026-01-16"
  },
  "articles/architecture/ilrepack-embedding.html": {
    "href": "articles/architecture/ilrepack-embedding.html",
    "title": "ILRepack & Assembly Embedding | DBTools Developer Documentation",
    "summary": "ILRepack & Assembly Embedding Overview DBTools uses ILRepack to merge assemblies for simplified deployment as a Revit add-in. Why ILRepack? Revit add-ins face deployment challenges: Single assembly loading point Dependency isolation from other add-ins Version conflicts with shared libraries ILRepack solves these by merging dependencies into the main assembly. Configuration Assembly merging is configured in Directory.Build.targets: <!-- Simplified example --> <Target Name=\"ILRepack\" AfterTargets=\"Build\"> <ILRepack InputAssemblies=\"@(RepackInput)\" OutputFile=\"$(OutputPath)$(AssemblyName).dll\" Internalize=\"true\" /> </Target> What Gets Merged Category Merged? Notes NuGet packages Yes Most packages internalized DBTools projects Yes Core, Themes merged into App Revit API No Must remain external references Vendored UI Varies See vendor/ folder Embedded vs Referenced Some assemblies are embedded as resources instead of IL-merged: <EmbeddedResource Include=\"SomeAssembly.dll\" /> This is used for assemblies that need runtime loading. Documentation Status: Stub - needs expansion TODO: [ ] Document exact merge configuration [ ] Explain internalization strategy [ ] Document troubleshooting steps [ ] Add build output structure"
  },
  "articles/architecture/overview.html": {
    "href": "articles/architecture/overview.html",
    "title": "Architecture Overview | DBTools Developer Documentation",
    "summary": "Architecture Overview Introduction DBTools is a modular Revit add-in toolkit that provides multiple tools for structural engineering workflows. High-Level Architecture ┌─────────────────────────────────────────────────────────────┐ │ Revit │ ├─────────────────────────────────────────────────────────────┤ │ DBTools.Loader │ │ (Revit Add-in Entry Point) │ ├─────────────────────────────────────────────────────────────┤ │ DBTools.App │ │ (Application Shell, Ribbon UI) │ ├──────────────┬──────────────┬──────────────┬────────────────┤ │ GM Tool │ SGT Tool │ Other Tools │ Settings │ ├──────────────┴──────────────┴──────────────┴────────────────┤ │ DBTools.Core │ │ (Shared Infrastructure, Transactions, UI) │ ├─────────────────────────────────────────────────────────────┤ │ DBTools.Themes │ │ (UI Theming System) │ └─────────────────────────────────────────────────────────────┘ Key Concepts Tool Modularity Each tool is a self-contained project that: Declares its manifest via manifest.yml Registers with DbtToolRegistry Provides its own UI, commands, and business logic Multi-Year Targeting DBTools supports multiple Revit versions (2023-2026) via: Conditional compilation (REVIT2023, REVIT2024, etc.) Version-specific assemblies Shared source with version-specific branches Build System See Build Pipeline for details on: NUKE-based build orchestration Directory.Build.props/targets ILRepack assembly merging Related Documentation Build Pipeline Project References DBTools.Core Documentation Status: Stub - needs expansion TODO: [ ] Add detailed component diagrams [ ] Document DI container setup [ ] Explain tool lifecycle [ ] Add sequence diagrams for common flows"
  },
  "articles/architecture/project-references.html": {
    "href": "articles/architecture/project-references.html",
    "title": "Project References | DBTools Developer Documentation",
    "summary": "Project References Overview DBTools uses a combination of project references and file linking to manage dependencies between projects. Reference Types Project References Standard MSBuild project references for compile-time dependencies: <ProjectReference Include=\"..\\DBTools.Core\\DBTools.Core.csproj\" /> File Linking Shared source files linked across multiple projects: <Compile Include=\"..\\Shared\\SomeFile.cs\" Link=\"Shared\\SomeFile.cs\" /> Dependency Graph DBTools.Loader └── DBTools.App ├── DBTools.Core │ └── DBTools.Themes ├── Tools/Common/GM │ └── DBTools.Core ├── Tools/Structural/SGT │ └── DBTools.Core └── Tools/Settings └── DBTools.Core Multi-Year Targeting Each project produces assemblies for multiple Revit years: DBTools.Core.2023.dll DBTools.Core.2024.dll DBTools.Core.2025.dll DBTools.Core.2026.dll See Build Pipeline for how this is achieved. Documentation Status: Stub - needs expansion TODO: [ ] Add complete dependency matrix [ ] Document file linking patterns [ ] Explain why certain choices were made [ ] Add mermaid diagram"
  },
  "articles/architecture/sandbox-validator.html": {
    "href": "articles/architecture/sandbox-validator.html",
    "title": "Sandbox & Validator | DBTools Developer Documentation",
    "summary": "Sandbox & Validator Overview DBTools.Sandbox provides a development environment for testing tools outside of Revit. Purpose The sandbox allows: UI development without Revit running Rapid iteration on view models Design-time data visualization Component testing Structure DBTools.Sandbox/ ├── App.xaml # Sandbox application ├── MainWindow.xaml # Test harness UI ├── ViewModels/ # Test view models └── DesignData/ # Design-time data Validator The validator component ensures: Tool manifests are valid Required dependencies are present Configuration schemas are correct Usage # Run sandbox (from Visual Studio or CLI) dotnet run --project csharp/src/DBTools.Sandbox/DBTools.Sandbox.csproj Documentation Status: Stub - needs expansion TODO: [ ] Document sandbox architecture [ ] Add setup instructions [ ] Document validator rules [ ] Add screenshots"
  },
  "articles/architecture/test-pipeline.html": {
    "href": "articles/architecture/test-pipeline.html",
    "title": "Test Pipeline | DBTools Developer Documentation",
    "summary": "Test Pipeline Overview DBTools uses a multi-tier testing strategy combining headless tests and Revit integration tests. Test Categories Headless Tests Tests that run without Revit: Project Purpose DBTools.BuildArtifacts.Tests Validates build outputs DBTools.DA.Tests Design Automation / APS tests # Run headless tests dotnet test csharp/testing/DBTools.BuildArtifacts.Tests/DBTools.BuildArtifacts.Tests.csproj -c Release Revit Integration Tests Tests that require Revit runtime: Project Purpose DBTools.GM.Tests Grid Maker tool tests DBTools.SGT.Tests Schedule Grid Tool tests DBTools.*.Tests Tool-specific tests # Run via test runner bash csharp/invoke-revit-tests.sh --smart --tool GM bash csharp/invoke-revit-tests.sh --smart --tool SGT -y 2025 Test Infrastructure TestSupport Shared test utilities in csharp/testing/TestSupport/: Test doubles for Revit API Fixtures and builders Assertion helpers Test Runner (invoke-revit-tests.sh) The interactive test runner script provides: Tool selection Revit year selection Filter support (-f \"FullyQualifiedName~SomeTest\") Smart test discovery Running Tests Single Test # Via Revit test runner bash csharp/invoke-revit-tests.sh --smart -y 2026 -f \"FullyQualifiedName~SomeTestName\" # Via dotnet test (headless only) dotnet test <project> -c Release --filter \"FullyQualifiedName~Metadata\" Documentation Status: Stub - needs expansion TODO: [ ] Document TestSupport architecture [ ] Add test writing guidelines [ ] Document mocking patterns [ ] Add CI/CD test configuration"
  },
  "articles/architecture/theme-system.html": {
    "href": "articles/architecture/theme-system.html",
    "title": "Theme System | DBTools Developer Documentation",
    "summary": "Theme System Overview DBTools.Themes provides a centralized theming system for consistent UI across all tools. Architecture DBTools.Themes/ ├── BrushKeys.cs # Named brush resources ├── Themes/ │ ├── Light.xaml # Light theme resources │ └── Dark.xaml # Dark theme resources └── Controls/ # Themed control templates Usage Referencing Theme Resources <Button Background=\"{DynamicResource {x:Static themes:BrushKeys.PrimaryBrush}}\" /> Switching Themes ThemeManager.ApplyTheme(ThemeType.Dark); Integration with Revit The theme system respects Revit's light/dark mode setting when available. Documentation Status: Stub - needs expansion TODO: [ ] Document all brush keys [ ] Add theme customization guide [ ] Document control templates [ ] Add visual examples"
  },
  "articles/developing/modularity.html": {
    "href": "articles/developing/modularity.html",
    "title": "Leveraging Modularity | DBTools Developer Documentation",
    "summary": "Leveraging Modularity Overview DBTools is designed for modularity. This guide explains how to leverage shared infrastructure effectively. Shared Components From DBTools.Core Component Purpose Usage TransactionRunner Safe Revit transactions Wrap all document modifications ISafeExecutor Error handling All entrypoints IAlertService User notifications Dialogs, toasts ILogger Logging Debug output From DBTools.Themes Component Purpose BrushKeys Consistent colors Control templates Styled controls Best Practices Use Shared Services // Good: Use ISafeExecutor _safeExecutor.Execute(() => DoWork()); // Bad: Raw try/catch at entrypoint try { DoWork(); } catch { /* swallow */ } Use Shared UI Components <!-- Good: Theme-aware --> <Button Style=\"{StaticResource PrimaryButtonStyle}\" /> <!-- Bad: Hardcoded --> <Button Background=\"#0078D4\" /> Documentation Maintenance When modifying code: Check if documentation exists in csharp/wiki/articles/ Update if behavior changed Add /// XML doc comments for new public APIs Documentation Status: Stub - needs expansion"
  },
  "articles/developing/new-tool-guide.html": {
    "href": "articles/developing/new-tool-guide.html",
    "title": "Creating New Tools | DBTools Developer Documentation",
    "summary": "Creating New Tools Overview This guide walks through creating a new tool for DBTools. Prerequisites Understanding of Architecture Overview Familiarity with DBTools.Core Build Pipeline setup Step-by-Step Guide 1. Create Project Structure csharp/src/Tools/<Category>/<ToolName>/ ├── DBTools.<ToolName>.csproj ├── manifest.yml ├── <ToolName>ToolModule.cs ├── Commands/ ├── ViewModels/ └── Views/ 2. Create Project File <Project Sdk=\"Microsoft.NET.Sdk\"> <PropertyGroup> <TargetFramework>net48</TargetFramework> <AssemblyName>DBTools.$(MSBuildProjectName)</AssemblyName> </PropertyGroup> <ItemGroup> <ProjectReference Include=\"..\\..\\..\\..\\DBTools.Core\\DBTools.Core.csproj\" /> </ItemGroup> </Project> 3. Create Manifest # manifest.yml name: MyTool displayName: My Tool description: Description of what the tool does version: 1.0.0 author: Your Name category: Common # or Structural, Testing, etc. 4. Create Module Class public class MyToolModule : IDbtToolModule { public void RegisterServices(IServiceCollection services) { // Register tool-specific services } public void RegisterCommands(ICommandRegistry registry) { // Register ribbon commands } } 5. Register in Build Add project reference to DBTools.App. Documentation Status: Stub - needs expansion TODO: [ ] Add complete working example [ ] Document manifest schema [ ] Add command registration details [ ] Document testing setup"
  },
  "articles/projects/app.html": {
    "href": "articles/projects/app.html",
    "title": "DBTools.App | DBTools Developer Documentation",
    "summary": "DBTools.App Overview DBTools.App is the main application shell that hosts all tools and provides the Revit ribbon UI. Location: csharp/src/DBTools.App/ Responsibilities Revit ribbon tab creation Tool button registration Application lifecycle management DI container setup Key Components Addin Entry AddinEntry.cs - The Revit add-in entry point implementing IExternalApplication. Ribbon Management Creates and manages the DBTools ribbon tab with buttons for each registered tool. Tool Hosting Discovers and loads tools via DbtToolRegistry. Output After build and ILRepack, produces: DBTools.App.{Year}.dll - Main add-in assembly DBTools.addin - Revit manifest file Documentation Status: Stub - needs expansion TODO: [ ] Document startup sequence [ ] Add DI registration details [ ] Document ribbon structure [ ] Add extension points"
  },
  "articles/projects/core.html": {
    "href": "articles/projects/core.html",
    "title": "DBTools.Core | DBTools Developer Documentation",
    "summary": "DBTools.Core Overview DBTools.Core is the shared infrastructure library used by all DBTools tools. Location: csharp/src/DBTools.Core/ Key Components Transaction Management TransactionRunner - Single document transactions BatchTransactionRunner - Multi-document batch operations CallGateTransactionRunner - Cross-context transaction handling Tool Infrastructure DbtToolRegistry - Tool registration and discovery DbtToolManifest - Tool metadata and configuration ISafeExecutor - Centralized error handling UI Components Shared dialogs and controls Progress overlay system Alert service Utilities Logging infrastructure Configuration management Revit API helpers Dependencies DBTools.Core └── DBTools.Themes Usage Tools reference Core for shared functionality: <ProjectReference Include=\"..\\..\\DBTools.Core\\DBTools.Core.csproj\" /> Documentation Status: Stub - needs expansion TODO: [ ] Document each major component [ ] Add API usage examples [ ] Document extension points [ ] Add architecture diagrams"
  },
  "articles/projects/loader.html": {
    "href": "articles/projects/loader.html",
    "title": "DBTools.Loader | DBTools Developer Documentation",
    "summary": "DBTools.Loader Overview DBTools.Loader is a thin assembly that Revit loads directly. It bootstraps the main application. Location: csharp/src/DBTools.Loader/ Purpose Revit add-ins have specific loading requirements. The Loader: Is the assembly referenced in the .addin manifest Has minimal dependencies Loads the main App assembly Why a Separate Loader? Allows version-independent entry point Simplifies assembly resolution Enables hot-reload scenarios (future) Structure DBTools.Loader/ ├── Loader.cs # Entry point └── AssemblyResolver.cs # Custom assembly resolution Documentation Status: Stub - needs expansion TODO: [ ] Document loading sequence [ ] Explain assembly resolution [ ] Add troubleshooting guide"
  },
  "articles/projects/sandbox.html": {
    "href": "articles/projects/sandbox.html",
    "title": "DBTools.Sandbox | DBTools Developer Documentation",
    "summary": "DBTools.Sandbox Overview DBTools.Sandbox is a standalone WPF application for developing and testing UI without Revit. Location: csharp/src/DBTools.Sandbox/ Purpose Rapid UI development iteration Design-time preview support Component isolation testing Theme development Usage # Run from Visual Studio or CLI dotnet run --project csharp/src/DBTools.Sandbox/DBTools.Sandbox.csproj Features Mock Revit document context Theme switching Component galleries Design data support Documentation Status: Stub - needs expansion TODO: [ ] Add setup guide [ ] Document mock services [ ] Add screenshots [ ] Document common workflows"
  },
  "articles/projects/themes.html": {
    "href": "articles/projects/themes.html",
    "title": "DBTools.Themes | DBTools Developer Documentation",
    "summary": "DBTools.Themes Overview DBTools.Themes provides centralized theming for all DBTools UI components. Location: csharp/src/DBTools.Themes/ Key Components BrushKeys BrushKeys.cs defines named brush resources: Primary colors Background colors Text colors Border colors Theme Resources XAML resource dictionaries for: Light theme Dark theme Control templates Usage <!-- Reference a brush --> <Border Background=\"{DynamicResource {x:Static themes:BrushKeys.PrimaryBrush}}\" /> // Switch themes programmatically ThemeManager.SetTheme(ThemeType.Dark); Integration All tools reference Themes indirectly through Core: Tool → DBTools.Core → DBTools.Themes Documentation Status: Stub - needs expansion TODO: [ ] Document all brush keys (~125) [ ] Add visual reference guide [ ] Document custom control templates [ ] Add theming best practices"
  },
  "articles/tools/common/elements-from-list-3d.html": {
    "href": "articles/tools/common/elements-from-list-3d.html",
    "title": "3D Elements From List | DBTools Developer Documentation",
    "summary": "3D Elements From List Overview Creates 3D views showing specific elements from a selection or list. Location: csharp/src/Tools/Common/3DElementsFromList/ Features Generate 3D views from element selection Isolate elements in view Batch processing support Usage Select elements in Revit Run command from DBTools ribbon New 3D view created with elements isolated Documentation Status: Stub - needs expansion"
  },
  "articles/tools/common/elevation-tags.html": {
    "href": "articles/tools/common/elevation-tags.html",
    "title": "Elevation Tags | DBTools Developer Documentation",
    "summary": "Elevation Tags Overview Automates placement and management of elevation tags. Location: csharp/src/Tools/Common/ElevationTags/ Features Automatic elevation tag placement Tag alignment and spacing Batch tag updates Documentation Status: Stub - needs expansion"
  },
  "articles/tools/common/gm.html": {
    "href": "articles/tools/common/gm.html",
    "title": "GM (Grid Maker) | DBTools Developer Documentation",
    "summary": "GM (Grid Maker) Overview GM (Grid Maker) is a comprehensive grid creation and management tool for Revit. Location: csharp/src/Tools/Common/GM/ Current Status Warning: This tool is currently undergoing a significant refactor. Documentation will be completed after the refactor stabilizes. High-Level Features Grid creation wizards Grid modification tools Grid line management Batch operations Architecture GM uses a complex multi-layer architecture: Shell layer (UI) Kernel (business logic) Shared contracts See csharp/docs/Specs/GM/GM_MERGED_SPECIFICATION.md for detailed specifications. Documentation Status: Stub - DEFERRED (mid-refactor) Blocked By: GM refactor completion"
  },
  "articles/tools/common/tdv.html": {
    "href": "articles/tools/common/tdv.html",
    "title": "TDV (Tag Data Viewer) | DBTools Developer Documentation",
    "summary": "TDV (Tag Data Viewer) Overview TDV provides viewing and editing of tag data across elements. Location: csharp/src/Tools/Common/TDV/ Features View tag data in tabular format Edit multiple tags simultaneously Filter and search capabilities Documentation Status: Stub - needs expansion"
  },
  "articles/tools/structural/analytical-snap.html": {
    "href": "articles/tools/structural/analytical-snap.html",
    "title": "Analytical Snap to Level | DBTools Developer Documentation",
    "summary": "Analytical Snap to Level Overview Snaps analytical model elements to specified levels. Location: csharp/src/Tools/Structural/AnalyticalSnapToLevel/ Features Snap analytical elements to levels Batch processing Tolerance settings Documentation Status: Stub - needs expansion"
  },
  "articles/tools/structural/foundation-tags.html": {
    "href": "articles/tools/structural/foundation-tags.html",
    "title": "Foundation Tags | DBTools Developer Documentation",
    "summary": "Foundation Tags Overview Automates foundation element tagging. Location: csharp/src/Tools/Structural/FoundationTags/ Features Automatic foundation tag placement Tag type selection Batch tagging operations Documentation Status: Stub - needs expansion"
  },
  "articles/tools/structural/framing-joins.html": {
    "href": "articles/tools/structural/framing-joins.html",
    "title": "Framing Joins | DBTools Developer Documentation",
    "summary": "Framing Joins Overview Manages structural framing member joins and connections. Location: csharp/src/Tools/Structural/FramingJoins/ Features Join type management Connection analysis Batch join operations Documentation Status: Stub - needs expansion"
  },
  "articles/tools/structural/joist-girder-weight.html": {
    "href": "articles/tools/structural/joist-girder-weight.html",
    "title": "Joist Girder Weight | DBTools Developer Documentation",
    "summary": "Joist Girder Weight Overview Calculates and manages joist and girder weight information. Location: csharp/src/Tools/Structural/JoistGirderWeight/ Features Weight calculations Parameter updates Reporting Documentation Status: Stub - needs expansion"
  },
  "articles/tools/structural/organize-foundation.html": {
    "href": "articles/tools/structural/organize-foundation.html",
    "title": "Organize Foundation Types | DBTools Developer Documentation",
    "summary": "Organize Foundation Types Overview Organizes and manages foundation type families. Location: csharp/src/Tools/Structural/OrganizeFoundationTypes/ Features Foundation type organization Naming conventions Type management Documentation Status: Stub - needs expansion"
  },
  "articles/tools/structural/sgt.html": {
    "href": "articles/tools/structural/sgt.html",
    "title": "SGT (Schedule Grid Tool) | DBTools Developer Documentation",
    "summary": "SGT (Schedule Grid Tool) Overview SGT (Schedule Grid Tool) is a comprehensive tool for managing structural grid schedules and wall-grid interactions. Location: csharp/src/Tools/Structural/SGT/ Current Status Warning: This tool is currently undergoing a significant refactor. Documentation will be completed after the refactor stabilizes. High-Level Features Wall orientation analysis Grid schedule management Wall-grid alignment tools Batch operations Architecture SGT uses a layered architecture: Shell layer (UI, ViewModels) Domain services Revit adapters See csharp/docs/Specs/SGT/SGT_Comprehensive_Specification.md for detailed specifications. Documentation Status: Stub - DEFERRED (mid-refactor) Blocked By: SGT refactor completion"
  },
  "articles/tools/testing/vtc.html": {
    "href": "articles/tools/testing/vtc.html",
    "title": "VTC (Visual Test Controller) | DBTools Developer Documentation",
    "summary": "VTC (Visual Test Controller) Overview VTC provides visual test creation and execution capabilities. Location: csharp/src/Tools/Testing/VTC/ Features Visual test recording Test playback Assertion framework Documentation Status: Stub - needs expansion"
  },
  "index.html": {
    "href": "index.html",
    "title": "TEST! SARAH! KODIAK & DENALI! | DBTools Developer Documentation",
    "summary": "TEST! SARAH! KODIAK & DENALI! DBTools Developer Documentation Welcome to the DBTools developer documentation. This site provides comprehensive documentation for developers working on or with the DBTools Revit add-in. Quick Links Section Description Architecture High-level system design, build pipeline, project structure Projects Documentation for each project in the solution Tools Individual tool documentation (GM, SGT, etc.) Developing Guides for creating new tools and features API Reference Auto-generated API documentation from XML comments Getting Started Prerequisites Visual Studio 2022 or later .NET SDK 8.0+ Revit 2023, 2024, 2025, or 2026 Building # From repository root cd csharp bash build.sh # Or for a specific Revit year bash build.sh -y 2025 BuildAll See Build Pipeline for detailed build documentation. Testing # Run Revit integration tests bash invoke-revit-tests.sh --smart --tool GM # Run headless tests dotnet test testing/DBTools.BuildArtifacts.Tests/DBTools.BuildArtifacts.Tests.csproj -c Release See Test Pipeline for detailed test documentation. Documentation Status This documentation is actively being developed. Current coverage: Area Status Architecture In Progress Core Projects Stubs Tools Stubs (GM/SGT last) API Reference Partial (~33% coverage) See DOCUMENTATION_MANIFEST.md for detailed status. Contributing to Documentation When modifying code: Check if relevant documentation exists Update documentation if behavior changed Add XML doc comments for new public APIs See the AGENTS.md documentation maintenance section for details."
  }
}